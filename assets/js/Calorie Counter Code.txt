    // Handle habit logging for calories
    const calorieForm = document.getElementById('calorieForm');
    if (calorieForm) {
        calorieForm.addEventListener('submit', function (event) {
            event.preventDefault();
            const calorieValue = document.getElementById('calories').value;
            const calorieData = JSON.parse(localStorage.getItem(`habits_${loggedInUser}_calories`)) || [];

            calorieData.push({
                date: new Date().toISOString().split('T')[0],
                value: calorieValue,
            });

            localStorage.setItem(`habits_${loggedInUser}_calories`, JSON.stringify(calorieData));
            alert('Calories logged successfully!');
            window.location.href = 'dashboard.html';
        });
    }

    // Display calorie data on chart
    const calorieChartElement = document.getElementById('calorieChart');
    if (calorieChartElement) {
        const calorieData = JSON.parse(localStorage.getItem(`habits_${loggedInUser}_calories`)) || [];
        const labels = calorieData.map((entry) => entry.date);
        const data = calorieData.map((entry) => entry.value);

        new Chart(calorieChartElement, {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Calories over the past 7 days',
                    data: data,
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1,
                }],
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                    },
                },
            },
        });
    }